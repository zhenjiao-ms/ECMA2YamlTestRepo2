### YamlMime:ManagedReference
items:
- uid: System.ThreadStaticAttribute
  id: ThreadStaticAttribute
  children:
  - System.ThreadStaticAttribute.#ctor
  langs:
  - csharp
  name: ThreadStaticAttribute
  nameWithType: ThreadStaticAttribute
  fullName: System.ThreadStaticAttribute
  type: Class
  summary: Indicates that the value of a static field is unique for each thread.
  remarks: "A `static` field marked with ThreadStaticAttribute is not shared between threads. Each executing thread has a separate instance of the field, and independently sets and gets values for that field. If the field is accessed on a different thread, it will contain a different value.  \n  \n Note that in addition to applying the ThreadStaticAttribute attribute to a field, you must also define it as a `static` field (in C#) or a `Shared` field (in Visual Basic).  \n  \n> [!NOTE]\n>  Do not specify initial values for fields marked with `ThreadStaticAttribute`, because such initialization occurs only once, when the class constructor executes, and therefore affects only one thread. If you do not specify an initial value, you can rely on the field being initialized to its default value if it is a value type, or to `null` if it is a reference type.  \n  \n Use this attribute as it is, and do not derive from it.  \n  \n For more information about using attributes, see [Attributes](~/add/includes/ajax-current-ext-md.md)."
  example:
  - "The following example instantiates a random number generator, creates ten threads in addition to the main thread, and then generates two million random numbers in each thread. It uses the ThreadStaticAttribute attribute to calculate the sum and the count of random numbers per thread. It also defines two additional per-thread fields, `previous` and `abnormal`, that allows it to detect corruption of the random number generator.  \n  \n [!code-vb[System.ThreadStaticAttribute#1](~/add/codesnippet/visualbasic/t-system.threadstaticatt_1.vb)]\n [!code-cs[System.ThreadStaticAttribute#1](~/add/codesnippet/csharp/t-system.threadstaticatt_1.cs)]  \n  \n The example uses the `lock` statement in C# and the `SyncLock` construct in Visual Basic to synchronize access to the random number generator. This prevents corruption of the random number generator, which typically results in its returning a value of zero for all subsequent calls.  \n  \n The example also uses the <xref:System.Threading.CountdownEvent> class to ensure that each thread has finished generating random numbers before it displays the total number of calls. Otherwise, if the main thread completes execution before the additional threads that it spawns, it displays an inaccurate value for the total number of method calls."
  syntax:
    content: >-
      [System.AttributeUsage(System.AttributeTargets.Field, Inherited=false)]

      [System.Runtime.InteropServices.ComVisible(true)]

      public class ThreadStaticAttribute : Attribute
  inheritance:
  - System.Object
  - System.Attribute
  implements: []
  inheritedMembers:
  - System.Attribute.Equals(System.Object)
  - System.Attribute.GetCustomAttribute(System.Reflection.Assembly,System.Type)
  - System.Attribute.GetCustomAttribute(System.Reflection.Assembly,System.Type,System.Boolean)
  - System.Attribute.GetCustomAttribute(System.Reflection.MemberInfo,System.Type)
  - System.Attribute.GetCustomAttribute(System.Reflection.MemberInfo,System.Type,System.Boolean)
  - System.Attribute.GetCustomAttribute(System.Reflection.Module,System.Type)
  - System.Attribute.GetCustomAttribute(System.Reflection.Module,System.Type,System.Boolean)
  - System.Attribute.GetCustomAttribute(System.Reflection.ParameterInfo,System.Type)
  - System.Attribute.GetCustomAttribute(System.Reflection.ParameterInfo,System.Type,System.Boolean)
  - System.Attribute.GetCustomAttributes(System.Reflection.Assembly)
  - System.Attribute.GetCustomAttributes(System.Reflection.Assembly,System.Boolean)
  - System.Attribute.GetCustomAttributes(System.Reflection.Assembly,System.Type)
  - System.Attribute.GetCustomAttributes(System.Reflection.Assembly,System.Type,System.Boolean)
  - System.Attribute.GetCustomAttributes(System.Reflection.MemberInfo)
  - System.Attribute.GetCustomAttributes(System.Reflection.MemberInfo,System.Boolean)
  - System.Attribute.GetCustomAttributes(System.Reflection.MemberInfo,System.Type)
  - System.Attribute.GetCustomAttributes(System.Reflection.MemberInfo,System.Type,System.Boolean)
  - System.Attribute.GetCustomAttributes(System.Reflection.Module)
  - System.Attribute.GetCustomAttributes(System.Reflection.Module,System.Boolean)
  - System.Attribute.GetCustomAttributes(System.Reflection.Module,System.Type)
  - System.Attribute.GetCustomAttributes(System.Reflection.Module,System.Type,System.Boolean)
  - System.Attribute.GetCustomAttributes(System.Reflection.ParameterInfo)
  - System.Attribute.GetCustomAttributes(System.Reflection.ParameterInfo,System.Boolean)
  - System.Attribute.GetCustomAttributes(System.Reflection.ParameterInfo,System.Type)
  - System.Attribute.GetCustomAttributes(System.Reflection.ParameterInfo,System.Type,System.Boolean)
  - System.Attribute.GetHashCode
  - System.Attribute.IsDefaultAttribute
  - System.Attribute.IsDefined(System.Reflection.Assembly,System.Type)
  - System.Attribute.IsDefined(System.Reflection.Assembly,System.Type,System.Boolean)
  - System.Attribute.IsDefined(System.Reflection.MemberInfo,System.Type)
  - System.Attribute.IsDefined(System.Reflection.MemberInfo,System.Type,System.Boolean)
  - System.Attribute.IsDefined(System.Reflection.Module,System.Type)
  - System.Attribute.IsDefined(System.Reflection.Module,System.Type,System.Boolean)
  - System.Attribute.IsDefined(System.Reflection.ParameterInfo,System.Type)
  - System.Attribute.IsDefined(System.Reflection.ParameterInfo,System.Type,System.Boolean)
  - System.Attribute.Match(System.Object)
  - System.Attribute.System#Runtime#InteropServices#_Attribute#GetIDsOfNames(System.Guid@,System.IntPtr,System.UInt32,System.UInt32,System.IntPtr)
  - System.Attribute.System#Runtime#InteropServices#_Attribute#GetTypeInfo(System.UInt32,System.UInt32,System.IntPtr)
  - System.Attribute.System#Runtime#InteropServices#_Attribute#GetTypeInfoCount(System.UInt32@)
  - System.Attribute.System#Runtime#InteropServices#_Attribute#Invoke(System.UInt32,System.Guid@,System.UInt32,System.Int16,System.IntPtr,System.IntPtr,System.IntPtr,System.IntPtr)
  - System.Attribute.TypeId
  - System.Object.Equals(System.Object,System.Object)
  - System.Object.GetType
  - System.Object.MemberwiseClone
  - System.Object.ReferenceEquals(System.Object,System.Object)
  - System.Object.ToString
  platform:
  - netframework-20
  - netframework-30
  - netframework-35
  - netframework-40
- uid: System.ThreadStaticAttribute.#ctor
  id: '#ctor'
  parent: System.ThreadStaticAttribute
  langs:
  - csharp
  name: ThreadStaticAttribute()
  nameWithType: ThreadStaticAttribute.ThreadStaticAttribute()
  fullName: System.ThreadStaticAttribute.ThreadStaticAttribute()
  type: Constructor
  assemblies:
  - mscorlib
  namespace: System
  summary: Initializes a new instance of the <xref href="System.ThreadStaticAttribute"></xref> class.
  syntax:
    content: public ThreadStaticAttribute ();
    parameters: []
  overload: System.ThreadStaticAttribute.#ctor*
  exceptions: []
  platform:
  - netframework-20
  - netframework-30
  - netframework-35
  - netframework-40
references:
- uid: System.Attribute
  isExternal: false
  name: System.Attribute
- uid: System.ThreadStaticAttribute.#ctor
  parent: System.ThreadStaticAttribute
  isExternal: false
  name: ThreadStaticAttribute()
  nameWithType: ThreadStaticAttribute.ThreadStaticAttribute()
  fullName: System.ThreadStaticAttribute.ThreadStaticAttribute()
- uid: System.ThreadStaticAttribute.#ctor*
  parent: System.ThreadStaticAttribute
  isExternal: false
  name: ThreadStaticAttribute
  nameWithType: ThreadStaticAttribute.ThreadStaticAttribute
